<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Assignment: Lab 4 - Night time Lights</title>
</head>
<body>
<p style="text-align: left;">Lecture from Fall 2024 - <a href="https://ufl.zoom.us/rec/share/ZH6gO0J33_u5TomRIfFd6m3RIF8TK9H3gXyS5jmnkT4IjSaV2wkCEqDfaVuL5t7_.lltMdOw78oWA59GG?startTime=1726062976000" target="_blank">https://ufl.zoom.us/rec/share/ZH6gO0J33_u5TomRIfFd6m3RIF8TK9H3gXyS5jmnkT4IjSaV2wkCEqDfaVuL5t7_.lltMdOw78oWA59GG?startTime=1726062976000</a></p>
<hr>
<p style="text-align: center;"><iframe title="YouTube video player" src="https://www.youtube.com/embed/2tFFb98ZZ5M?controls=0" width="560" height="315" allowfullscreen="allowfullscreen" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" loading="lazy"></iframe></p>
<p>In this lab, <span>we will work towards applying the additive color system to bands that store non-optical and more abstract </span><i><span>attributes.&nbsp;&nbsp;</span></i><span>This is unlike previous labs where the colors on the screen represented slices of the electromagnetic spectrum.&nbsp; For this lab, we will look at nighttime lights.&nbsp;</span></p>
<p><span>To begin, add his code to your script and run it.</span></p>
<pre>var lights93 = ee.Image('NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F101993');<br><br>print('Nighttime lights', lights93);<br><br>Map.addLayer(<br>&nbsp; &nbsp; lights93,<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; bands: ['stable_lights'],<br>&nbsp; &nbsp; &nbsp; &nbsp; min: 0,<br>&nbsp; &nbsp; &nbsp; &nbsp; max: 63<br>&nbsp; &nbsp; },<br>&nbsp; &nbsp; 'Lights');</pre>
<p>The first line of the code calls the NOOA <span>Nighttime Lights Time Series.&nbsp; You can learn more about it here. </span>&nbsp;<a href="https://developers.google.com/earth-engine/datasets/catalog/NOAA_DMSP-OLS_NIGHTTIME_LIGHTS" target="_blank">https://developers.google.com/earth-engine/datasets/catalog/NOAA_DMSP-OLS_NIGHTTIME_LIGHTS</a></p>
<p>The second line takes the data and prints it to the console, and this allows you to explore the different bands available to you.&nbsp; We are interested in Band 1, the stable lights.&nbsp;</p>
<p>The third section of the code adds the data to the Map and defines the range for the grayscale representation. <span>The range of values for display (0–63) represents the minimum and maximum pixel values in this image.</span></p>
<p><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/Screenshot%202023-02-10%20at%205.44.42%20AM-1.png" alt="results of the code. " data-api-endpoint="https://ufl.instructure.com/api/v1/courses/515674/files/89720718" data-api-returntype="File" loading="lazy"></p>
<p><span>The global nighttime lights image represents the average brightness of nighttime lights at each pixel for a calendar year. For those of us who have sat by a window in an airplane as it descends to a destination at night, the scene may look vaguely familiar. But the image is very much an abstraction. It provides us with a view of the planet that we would never be able to see from an airplane or even from space. Night blankets the entire planet in darkness. There are no clouds. In the “stable lights” band, there are no ephemeral sources of light. Lightning strikes, wildfires, and other transient lights have been removed. It is a layer that aims to answer one question about our planet at one point in time: In 1993, how bright were Earth’s stable, artificial sources of light?</span></p>
<p><span><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/Screenshot%202023-02-10%20at%205.48.43%20AM.png" alt="Screenshot 2023-02-10 at 5.48.43 AM.png" data-api-endpoint="https://ufl.instructure.com/api/v1/courses/515674/files/89720818" data-api-returntype="File" loading="lazy"></span></p>
<p><span>With the zoom controls on the map, you can zoom out to see the bright spot of Shanghai, the large blob of Seoul to the north and east, the darkness of North Korea except for the small dot of Pyongyang, and the dense strips of lights of Japan and the west coast of Taiwan.</span></p>
<p><span><span>Now we can use the additive color system to make an RGB composite that compares stable nighttime lights at three different slices of time. Add the code below to your script and run it.</span></span></p>
<pre><span><span><strong>var</strong> lights03 = ee.Image('NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F152003')<br>&nbsp; &nbsp; .select('stable_lights').rename('2003');<br><br><strong>var</strong> lights13 = ee.Image('NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182013')<br>&nbsp; &nbsp; .select('stable_lights').rename('2013');<br><br><strong>var</strong> changeImage = lights13.addBands(lights03).addBands(lights93.select('stable_lights').rename('1993'));<br><br>print('change image', changeImage);<br><br>Map.addLayer(<br>&nbsp; &nbsp; changeImage,<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; min: 0,<br>&nbsp; &nbsp; &nbsp; &nbsp; max: 63<br>&nbsp; &nbsp; },<br>&nbsp; &nbsp; 'Change composite');</span></span></pre>
<p><span><span>The Code does a few things.&nbsp;</span></span><span>First, it creates two new images, each representing a different slice of time. For both, we use the </span><span>select</span><span> method to select a band (“stable_lights”) and the </span><span>rename</span><span> method to change the band name to indicate the year it represents.&nbsp;&nbsp;</span></p>
<p><span>Next, the code uses the </span><span>addBands</span><span> method to create a new, three-band image that we name “changeImage”. It does this by taking one image (lights13) as the first band, using another image (lights03) as the second band, and the lights93 image seen earlier as the third band. The third band is given the name “1993” as it is placed into the image.</span></p>
<p><span><span><span>Finally, the code prints metadata to the </span><strong>Console</strong><span> and adds the layer to the map as an RGB composite using </span><span>Map</span><span>.</span><span>addLayer</span><span>. If you look at the printed metadata, you should see under the label “change image” that our image is composed of three bands, with each band named after a year. You should also notice the order of the bands in the image: 2013, 2003, 1993. This order determines the color channels used to represent each slice of time in the composite: 2013 as red, 2003 as green, and 1993 as blue.</span></span></span></p>
<p><span><span><span><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/Screenshot%202023-02-10%20at%205.53.37%20AM.png" alt="results in a screenshot" data-api-endpoint="https://ufl.instructure.com/api/v1/courses/515674/files/89720843" data-api-returntype="File" loading="lazy"></span></span></span></p>
<p><span>We can now read the colors displayed on the layer to interpret different kinds of changes in nighttime lights across the planet over two decades. Pixels that appear white have high brightness in all three years. You can use the </span><strong>Inspector</strong><span> panel to confirm this. Click on the </span><strong>Inspector</strong><span> panel to change the cursor to a crosshair, and then click on a pixel that appears white. Look under the </span><i><span>Pixel</span></i><span> category of the </span><strong>Inspector</strong><span> panel for the “Change composite” layer. The pixel value for each band should be high (at or near 63).&nbsp;&nbsp;</span></p>
<p><span>Many clumps of white pixels represent urban cores. If you zoom into Shanghai, you will notice that the periphery of the white-colored core appears yellowish, and the terminal edges appear reddish. Yellow represents locations that were bright in 2013 and 2003 but dark in 1993. Red represents locations that appear bright in 2013 but dark in 2003 and 1993. If you zoom out, you will see this gradient of white core to yellow periphery to red&nbsp;</span><span>edge occurs around many cities across the planet&nbsp;and shows the global pattern of urban sprawl over the 20-year period.&nbsp;&nbsp;</span></p>
<p><span><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/Screenshot%202023-02-10%20at%205.55.49%20AM.png" alt="shanghai at night" data-api-endpoint="https://ufl.instructure.com/api/v1/courses/515674/files/89720689" data-api-returntype="File" loading="lazy"></span></p>
<p><span>When you zoom out from Shanghai, you will likely notice that each map layer redraws every time you change the zoom level. In order to explore the change composite layer more efficiently, use the </span><strong>Layer</strong><span> manager panel to not show (uncheck) all of the layers except for “Change composite.” Now the map will respond faster when you zoom and pan because it will only refresh the single displayed shown layer.&nbsp;</span></p>
<p><span>In addition to urban change, the layer also shows changes in resource extraction activities that produce bright lights. Often, these activities produce lights that are stable over the span of a year (and therefore included in the “stable lights” band) but are not sustained over the span of a decade or more. For example, in the Korean Strait (between South Korea and Japan), you can see geographic shifts in fishing fleets that use bright halogen lights to attract squid and other sea creatures toward the water surface and into their nets. Bluish pixels were likely fished more heavily in 1993 and became used less frequently by 2003, while greenish pixels were likely fished more heavily in 2003 and less frequently by 2013.</span></p>
<p><span><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/Screenshot%202023-02-10%20at%205.58.14%20AM.png" alt="korean strights" data-api-endpoint="https://ufl.instructure.com/api/v1/courses/515674/files/89720744" data-api-returntype="File" loading="lazy"></span></p>
<p><span>Similarly, fossil fuel extraction produces nighttime lights through gas flaring. If you pan to North America, red blobs in Alberta and North Dakota and a red swath in southeastern Texas all represent places where oil and gas extraction were absent in 1993 and 2003 but booming by 2013.</span></p>
<p><span><img src="$IMS-CC-FILEBASE$/Uploaded%20Media/Screenshot%202023-02-10%20at%205.59.49%20AM.png" alt="Screenshot 2023-02-10 at 5.59.49 AM.png" data-api-endpoint="https://ufl.instructure.com/api/v1/courses/515674/files/89720787" data-api-returntype="File" loading="lazy"></span></p>
<p><span>As you explore this image, remember to check your interpretations with the <strong>Inspector</strong> panel by clicking on a pixel and reading the pixel value for each band. Refer back to the additive color figure to remember how the color system works. If you practice this, you should be able to read any RGB composite by knowing how colors relate to the relative pixel value of each band.</span></p>
<p><span>Turn in a URL for your code in a word document and answer the following questions:</span></p>
<ol style="list-style-type: decimal;">
<li><span>URL of your Code (10 points)</span></li>
<li>
<p><span>Compare and contrast the changes in nighttime lights around Damascus, Syria, versus Amman, Jordan. How are the colors for the two cities similar and different? How do you interpret the differences?&nbsp; &nbsp;Inculde screenshot. (10 Points)</span></p>
</li>
<li>
<p><span>Look at the changes in nighttime lights in the region of Port Harcourt, Nigeria. What kinds of changes do you think these colors signify? What clues in the satellite basemap can you see to confirm your interpretation? &nbsp;Inculde screenshot. &nbsp; (10 Points)</span></p>
</li>
<li><span>In the nighttime lights change composite, we did not specify the three bands to use for our RGB composite. How do you think Earth Engine chose the three bands to display? How do you think Earth Engine determined which band should be shown with the red, green, and blue channels? (10 Points)</span></li>
<li><span>Find an area of the world with an interesting nighttime lights story.&nbsp; Explore the data and see what you can find.&nbsp; Showcase it with a screenshot and explanation of why we are seeing what we see in the composite. (10 Points)</span></li>
</ol>
<p>&nbsp;</p>
</body>
</html>