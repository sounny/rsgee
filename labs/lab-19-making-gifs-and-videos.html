<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 19 - Making GIFs and Videos of Environmental Change | Remote Sensing Course</title>
    <link rel="stylesheet" href="../css/style.css">
    <meta name="robots" content="index, follow">
    <meta name="description" content="Google Earth Engine lab 19: Lab 19 - Making GIFs and Videos of Environmental Change">
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../index.html">Home</a> &gt; <a href="../index.html#labs">Labs</a> &gt; Lab 19
        </nav>

        <header class="lab-header">
            <h1>Lab 19 - Making GIFs and Videos of Environmental Change</h1>
        </header>

        <main class="lab-content">
<div class="gmail_default">Fall 2023 Lecture - Lab 19</div>
<div class="gmail_default"></div>
<div class="gmail_default"></div>
<p><em>Objective: In this lab, you will learn how to create an animated image series and a filmstrip using Google Earth Engine. You will work with an ImageCollection to filter, composite, sort, and visualize images before generating the final outputs.</em><em></em></p>
<p>Overview: You will go through the following steps:</p>
<p>1. Filtering<br>2. Compositing<br>3. Sorting<br>4. Image visualization</p>
<h2>Lab Instructions:</h2>
<h2>1. Introduction and setup</h2>
<ul>
<li>Go to Google Earth Engine (https://earthengine.google.com/)</li>
<li>Sign in with your Google account</li>
<li>Create a new script and name it something like&nbsp; "Lab19_Animation_Filmstrip"</li>
</ul>
<h3>2. Filtering</h3>
<ul>
<li>Start by importing a dataset you want to work with in the script editor. For example, you can use the MODIS Terra Vegetation Indices 16-Day Global 1km dataset and select the NDVI band:</li>
<li>
<pre>var col = ee.ImageCollection('MODIS/006/MOD13A2').select('NDVI');</pre>
</li>
<li>Now, filter the ImageCollection to include only the relevant data based on dates, spatial extent, and other properties. You can use the filterDate and filterBounds methods for this purpose.</li>
<li>
<pre>// Filter the ImageCollection based on dates and spatial extent<br>var startDate = '2018-01-01';<br>var endDate = '2018-12-31';<br>var regionOfInterest = ee.Geometry.Rectangle([-18.698368046353494, 38.1446395611524, 52.229366328646506, -36.16300755581617]);<br><br>var filtered = col.filterDate(startDate, endDate)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .filterBounds(regionOfInterest);</pre>
</li>
</ul>
<h3>3. Compositing</h3>
<ul>
<li>Create a composite image by reducing the images within the desired date ranges. This will help to reduce the number of images in the collection and improve quality. Use the reduce method to achieve this.</li>
<li>
<pre>// Composite images within a date range using the median reducer<br><br>var composite = filtered.reduce(ee.Reducer.median());</pre>
</li>
</ul>
<h3>4. Sorting</h3>
<ul>
<li>Sort the collection by time to ensure the proper chronological sequence. You can use the sort method and the system:time_start property to sort the collection by time.</li>
<li>
<pre>// Sort the collection by time<br><br>var sorted = filtered.sort('system:time_start');</pre>
</li>
</ul>
<h3>5. Image visualization</h3>
<ul>
<li>Visualize the images in the collection by mapping image bands to color channels or grading values of a single band along a color palette. Use the getVideoThumbURL and getFilmstripThumbURL methods to achieve this.</li>
<li>
<pre>// Define visualization parameters<br>var visParams = {<br>&nbsp; min: 0.0,<br>&nbsp; max: 9000.0,<br>&nbsp; palette: [<br>&nbsp; &nbsp; 'FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',<br>&nbsp; &nbsp; '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',<br>&nbsp; &nbsp; '012E01', '011D01', '011301'<br>&nbsp; ],<br>};<br><br>// Visualize the images in the collection<br>var visualized = sorted.map(function(image) {<br>&nbsp; return image.visualize(visParams);<br>});</pre>
</li>
</ul>
<h3>6. Generate the outputs</h3>
<ul>
<li>Create an animated image series using the getVideoThumbURL method, and a filmstrip using the getFilmstripThumbURL method. Define the necessary parameters for both methods, such as region, dimensions, and framesPerSecond.</li>
<li>Print the URLs for both the animation and the filmstrip. You can also render the animation and the filmstrip directly in the console using the ui.Thumbnail function.</li>
<li>
<pre>// Define parameters for getVideoThumbURL and getFilmstripThumbURL methods<br>var outputParams = {<br>&nbsp; 'region': regionOfInterest,<br>&nbsp; 'dimensions': 600,<br>&nbsp; 'crs': 'EPSG:3857',<br>&nbsp; 'framesPerSecond': 10<br>};<br><br>// Create an animated image series<br>var animationUrl = visualized.getVideoThumbURL(outputParams);<br>print("Animation URL:", animationUrl);<br><br>// Create a filmstrip<br>var filmstripUrl = visualized.getFilmstripThumbURL(outputParams);<br>print("Filmstrip URL:", filmstripUrl);<br><br>// Render the animation and the filmstrip directly in the console<br>print("Animation:", ui.Thumbnail(visualized, outputParams));<br>print("Filmstrip:", ui.Thumbnail(visualized, outputParams));</pre>
</li>
</ul>
<p>Congrats, you made a gif.&nbsp; It should look like this:&nbsp;</p>
<p><img src="../images/canvas/Uploaded%20Media/7df7883d1ba9d48c837bce6ee94ce6b8-a348b31bea033421668d9a5b799cf054_getPixels.gif" alt="gif output for Africa "   loading="lazy"></p>
<h3>7. Challange</h3>
<ul>
<li>Now that you have worked through the example,, could you change it up? Create a gif at a different scale or location.&nbsp; Modify the code to show a different convenience, for example, or zoom in or out to show something interesting.&nbsp; Or, if you want to have a lot of fun, try out a different dataset. Read: <a href="https://developers.google.com/earth-engine/guides/ic_visualization" target="_blank">https://developers.google.com/earth-engine/guides/ic_visualization</a> for some more ideas.&nbsp;</li>
<li>After completing the lab and challenge, save your script by clicking the "Save" button at the top of the script editor. Make sure you comment well your code.&nbsp;</li>
<li>Share your work with by clicking the "Share" button and providing the generated link here on Canvas.</li>
</ul>
            <section id="submission">
                <div class="submission-box">
                    <h3>Lab Submission</h3>
                    <p>Submit lab via email.</p>
                    <p><strong>Subject:</strong> <code>Lab 19 - Making GIFs and Videos of Environmental Change - [Your Name]</code></p>
                </div>
            </section>
        </main>

        <footer>
            <p><a href='lab-18-health-applications-part2.html'>&larr; Previous Lab</a> | <a href='lab-20-deploying-gee-apps.html'>Next Lab &rarr;</a></p>
            <p><a href="../index.html">&larr; Back to Course Home</a></p>
        </footer>
    </div>
    
</body>
</html>

